<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Gdk::Keymap
  
    &mdash; Documentation by YARD 0.9.27
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Gdk::Keymap";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (K)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Gdk.html" title="Gdk (module)">Gdk</a></span></span>
     &raquo; 
    <span class="title">Keymap</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Gdk::Keymap
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Gdk::Keymap</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>(unknown)</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>A Gdk::Keymap defines the translation from keyboard state (including a hardware key, a modifier mask, and active keyboard group) to a keyval. This translation has two phases. The first phase is to determine the effective keyboard group and level for the keyboard state; the second phase is to look up the keycode/group/level triplet in the keymap and see what keyval it corresponds to.</p>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_virtual_modifiers-instance_method" title="#add_virtual_modifiers (instance method)">#<strong>add_virtual_modifiers</strong>(state)  &#x21d2; nil </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Maps the non-virtual modifiers (i.e Mod2, Mod3, …) which are set in <strong>state</strong> to the virtual modifiers (i.e. Super, Hyper and Meta) and set the corresponding bits in <strong>state</strong>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#caps_lock_state-instance_method" title="#caps_lock_state (instance method)">#<strong>caps_lock_state</strong>  &#x21d2; TrueClass </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns whether the Caps Lock modifer is locked.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#direction-instance_method" title="#direction (instance method)">#<strong>direction</strong>  &#x21d2; Pango::Direction </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the direction of effective layout of the keymap.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_entries_for_keycode-instance_method" title="#get_entries_for_keycode (instance method)">#<strong>get_entries_for_keycode</strong>(hardware_keycode, keys, keyvals, n_entries)  &#x21d2; TrueClass </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the keyvals bound to <strong>hardware_keycode</strong>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_entries_for_keyval-instance_method" title="#get_entries_for_keyval (instance method)">#<strong>get_entries_for_keyval</strong>(keyval, keys, n_keys)  &#x21d2; TrueClass </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Obtains a list of keycode/group/level combinations that will generate <strong>keyval</strong>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_modifier_mask-instance_method" title="#get_modifier_mask (instance method)">#<strong>get_modifier_mask</strong>(intent)  &#x21d2; Gdk::ModifierType </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the modifier mask the <strong>keymap</strong>’s windowing system backend uses for a particular purpose.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#have_bidi_layouts-instance_method" title="#have_bidi_layouts (instance method)">#<strong>have_bidi_layouts</strong>  &#x21d2; TrueClass </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Determines if keyboard layouts for both right-to-left and left-to-right languages are in use.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lookup_key-instance_method" title="#lookup_key (instance method)">#<strong>lookup_key</strong>(key)  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Looks up the keyval mapped to a keycode/group/level triplet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#map_virtual_modifiers-instance_method" title="#map_virtual_modifiers (instance method)">#<strong>map_virtual_modifiers</strong>(state)  &#x21d2; TrueClass </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Maps the virtual modifiers (i.e. Super, Hyper and Meta) which are set in <strong>state</strong> to their non-virtual counterparts (i.e. Mod2, Mod3,…) and set the corresponding bits in <strong>state</strong>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#modifier_state-instance_method" title="#modifier_state (instance method)">#<strong>modifier_state</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the current modifier state.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#num_lock_state-instance_method" title="#num_lock_state (instance method)">#<strong>num_lock_state</strong>  &#x21d2; TrueClass </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns whether the Num Lock modifer is locked.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#scroll_lock_state-instance_method" title="#scroll_lock_state (instance method)">#<strong>scroll_lock_state</strong>  &#x21d2; TrueClass </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns whether the Scroll Lock modifer is locked.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#translate_keyboard_state-instance_method" title="#translate_keyboard_state (instance method)">#<strong>translate_keyboard_state</strong>(hardware_keycode, state, group, keyval, effective_group, level, consumed_modifiers)  &#x21d2; TrueClass </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Translates the contents of a Gdk::EventKey into a keyval, effective group, and level.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="add_virtual_modifiers-instance_method">
  
    #<strong>add_virtual_modifiers</strong>(state)  &#x21d2; <tt>nil</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Maps the non-virtual modifiers (i.e Mod2, Mod3, …) which are set in <strong>state</strong> to the virtual modifiers (i.e. Super, Hyper and Meta) and set the corresponding bits in <strong>state</strong>.</p>

<p>GDK already does this before delivering key events, but for compatibility reasons, it only sets the first virtual modifier it finds, whereas this function sets all matching virtual modifiers.</p>

<p>This function is useful when matching key events against accelerators.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>state</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ModifierType.html" title="Gdk::ModifierType (module)">Gdk::ModifierType</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>pointer to the modifier mask to change</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="caps_lock_state-instance_method">
  
    #<strong>caps_lock_state</strong>  &#x21d2; <tt>TrueClass</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns whether the Caps Lock modifer is locked.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>TrueClass</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if Caps Lock is on</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="direction-instance_method">
  
    #<strong>direction</strong>  &#x21d2; <tt><span class='object_link'><a href="../Pango/Direction.html" title="Pango::Direction (module)">Pango::Direction</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the direction of effective layout of the keymap.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Pango/Direction.html" title="Pango::Direction (module)">Pango::Direction</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>%PANGO_DIRECTION_LTR or %PANGO_DIRECTION_RTL if it can determine the direction. %PANGO_DIRECTION_NEUTRAL otherwise.</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_entries_for_keycode-instance_method">
  
    #<strong>get_entries_for_keycode</strong>(hardware_keycode, keys, keyvals, n_entries)  &#x21d2; <tt>TrueClass</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the keyvals bound to <strong>hardware_keycode</strong>. The Nth Gdk::KeymapKey in <strong>keys</strong> is bound to the Nth keyval in <strong>keyvals</strong>. Free the returned arrays with g_free(). When a keycode is pressed by the user, the keyval from this list of entries is selected by considering the effective keyboard group and level. See gdk_keymap_translate_keyboard_state().</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>hardware_keycode</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a keycode</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>keys</span>
      
      
        <span class='type'>(<tt>Array&lt;Gdk::KeymapKey&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>return location for array of Gdk::KeymapKey, or nil</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>keyvals</span>
      
      
        <span class='type'>(<tt>Array&lt;Integer&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>return location for array of keyvals, or nil</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>n_entries</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>length of <strong>keys</strong> and <strong>keyvals</strong></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>TrueClass</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if there were any entries</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_entries_for_keyval-instance_method">
  
    #<strong>get_entries_for_keyval</strong>(keyval, keys, n_keys)  &#x21d2; <tt>TrueClass</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Obtains a list of keycode/group/level combinations that will generate <strong>keyval</strong>. Groups and levels are two kinds of keyboard mode; in general, the level determines whether the top or bottom symbol on a key is used, and the group determines whether the left or right symbol is used. On US keyboards, the shift key changes the keyboard level, and there are no groups. A group switch key might convert a keyboard between Hebrew to English modes, for example. Gdk::EventKey contains a %group field that indicates the active keyboard group. The level is computed from the modifier mask. The returned array should be freed with g_free().</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>keyval</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a keyval, such as %GDK_KEY_a, %GDK_KEY_Up, %GDK_KEY_Return, etc.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>keys</span>
      
      
        <span class='type'>(<tt>Array&lt;Gdk::KeymapKey&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>return location for an array of Gdk::KeymapKey</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>n_keys</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>return location for number of elements in returned array</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>TrueClass</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if keys were found and returned</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_modifier_mask-instance_method">
  
    #<strong>get_modifier_mask</strong>(intent)  &#x21d2; <tt><span class='object_link'><a href="ModifierType.html" title="Gdk::ModifierType (module)">Gdk::ModifierType</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the modifier mask the <strong>keymap</strong>’s windowing system backend uses for a particular purpose.</p>

<p>Note that this function always returns real hardware modifiers, not virtual ones (e.g. it will return #GDK_MOD1_MASK rather than #GDK_META_MASK if the backend maps MOD1 to META), so there are use cases where the return value of this function has to be transformed by gdk_keymap_add_virtual_modifiers() in order to contain the expected result.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>intent</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ModifierIntent.html" title="Gdk::ModifierIntent (module)">Gdk::ModifierIntent</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the use case for the modifier mask</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ModifierType.html" title="Gdk::ModifierType (module)">Gdk::ModifierType</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the modifier mask used for <strong>intent</strong>.</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="have_bidi_layouts-instance_method">
  
    #<strong>have_bidi_layouts</strong>  &#x21d2; <tt>TrueClass</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Determines if keyboard layouts for both right-to-left and left-to-right languages are in use.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>TrueClass</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if there are layouts in both directions, false otherwise</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="lookup_key-instance_method">
  
    #<strong>lookup_key</strong>(key)  &#x21d2; <tt>Integer</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Looks up the keyval mapped to a keycode/group/level triplet. If no keyval is bound to <strong>key</strong>, returns 0. For normal user input, you want to use gdk_keymap_translate_keyboard_state() instead of this function, since the effective group/level may not be the same as the current keyboard state.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>key</span>
      
      
        <span class='type'>(<tt>Gdk::KeymapKey</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a Gdk::KeymapKey with keycode, group, and level initialized</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a keyval, or 0 if none was mapped to the given <strong>key</strong></p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="map_virtual_modifiers-instance_method">
  
    #<strong>map_virtual_modifiers</strong>(state)  &#x21d2; <tt>TrueClass</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Maps the virtual modifiers (i.e. Super, Hyper and Meta) which are set in <strong>state</strong> to their non-virtual counterparts (i.e. Mod2, Mod3,…) and set the corresponding bits in <strong>state</strong>.</p>

<p>This function is useful when matching key events against accelerators.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>state</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ModifierType.html" title="Gdk::ModifierType (module)">Gdk::ModifierType</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>pointer to the modifier state to map</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>TrueClass</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>false if two virtual modifiers were mapped to the same non-virtual modifier. Note that false is also returned if a virtual modifier is mapped to a non-virtual modifier that was already set in <strong>state</strong>.</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="modifier_state-instance_method">
  
    #<strong>modifier_state</strong>  &#x21d2; <tt>Integer</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the current modifier state.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the current modifier state.</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="num_lock_state-instance_method">
  
    #<strong>num_lock_state</strong>  &#x21d2; <tt>TrueClass</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns whether the Num Lock modifer is locked.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>TrueClass</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if Num Lock is on</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="scroll_lock_state-instance_method">
  
    #<strong>scroll_lock_state</strong>  &#x21d2; <tt>TrueClass</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns whether the Scroll Lock modifer is locked.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>TrueClass</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if Scroll Lock is on</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="translate_keyboard_state-instance_method">
  
    #<strong>translate_keyboard_state</strong>(hardware_keycode, state, group, keyval, effective_group, level, consumed_modifiers)  &#x21d2; <tt>TrueClass</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Translates the contents of a Gdk::EventKey into a keyval, effective group, and level. Modifiers that affected the translation and are thus unavailable for application use are returned in <strong>consumed_modifiers</strong>. See [<a href="key-group-explanation">Groups]</a> for an explanation of groups and levels. The <strong>effective_group</strong> is the group that was actually used for the translation; some keys such as Enter are not affected by the active keyboard group. The <strong>level</strong> is derived from <strong>state</strong>. For convenience, Gdk::EventKey already contains the translated keyval, so this function isn’t as useful as you might think.</p>

<p><strong>consumed_modifiers</strong> gives modifiers that should be masked outfrom <strong>state</strong> when comparing this key press to a hot key. For instance, on a US keyboard, the ‘plus` symbol is shifted, so when comparing a key press to a `&lt;Control&gt;plus` accelerator `&lt;Shift&gt;` should be masked out.</p>

<pre class="code ruby"><code class="ruby">// XXX Don’t do this XXX
if (keyval == accel_keyval &amp;&amp;
    (event-&gt;state &amp; ~consumed &amp; ALL_ACCELS_MASK) == (accel_mods &amp; ~consumed))
  // Accelerator was pressed
</code></pre>

<p>However, this did not work if multi-modifier combinations were used in the keymap, since, for instance, ‘&lt;Control&gt;` would be masked out even if only `&lt;Control&gt;&lt;Alt&gt;` was used in the keymap. To support this usage as well as well as possible, all single modifier combinations that could affect the key for any combination of modifiers will be returned in <strong>consumed_modifiers</strong>; multi-modifier combinations are returned only when actually found in <strong>state</strong>. When you store accelerators, you should always store them with consumed modifiers removed. Store `&lt;Control&gt;plus`, not `&lt;Control&gt;&lt;Shift&gt;plus`,</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>hardware_keycode</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a keycode</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>state</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ModifierType.html" title="Gdk::ModifierType (module)">Gdk::ModifierType</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a modifier state</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>group</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>active keyboard group</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>keyval</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>return location for keyval, or nil</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>effective_group</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>return location for effective group, or nil</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>level</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>return location for level, or nil</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>consumed_modifiers</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ModifierType.html" title="Gdk::ModifierType (module)">Gdk::ModifierType</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>return location for modifiers that were used to determine the group or level, or nil</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>TrueClass</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if there was a keyval bound to the keycode/state/group</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sun May 22 01:00:38 2022 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.27 (ruby-3.1.2).
</div>

    </div>
  </body>
</html>