<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: PangoOT::Ruleset
  
    &mdash; Documentation by YARD 0.9.27
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "PangoOT::Ruleset";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (R)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../PangoOT.html" title="PangoOT (module)">PangoOT</a></span></span>
     &raquo; 
    <span class="title">Ruleset</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: PangoOT::Ruleset
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">PangoOT::Ruleset</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>(unknown)</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>The Pango::OTRuleset structure holds a set of features selected from the tables in an OpenType font. (A feature is an operation such as adjusting glyph positioning that should be applied to a text feature such as a certain type of accent.) A Pango::OTRuleset is created with pango_ot_ruleset_new(), features are added to it with pango_ot_ruleset_add_feature(), then it is applied to a Pango::GlyphString with pango_ot_ruleset_shape().</p>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_feature-instance_method" title="#add_feature (instance method)">#<strong>add_feature</strong>(table_type, feature_index, property_bit)  &#x21d2; nil </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adds a feature to the ruleset.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_feature_count-instance_method" title="#get_feature_count (instance method)">#<strong>get_feature_count</strong>(n_gsub_features, n_gpos_features)  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gets the number of GSUB and GPOS features in the ruleset.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#maybe_add_feature-instance_method" title="#maybe_add_feature (instance method)">#<strong>maybe_add_feature</strong>(table_type, feature_tag, property_bit)  &#x21d2; TrueClass </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This is a convenience function that first tries to find the feature using pango_ot_info_find_feature() and the ruleset script and language passed to pango_ot_ruleset_new_for(), and if the feature is found, adds it to the ruleset.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#maybe_add_features-instance_method" title="#maybe_add_features (instance method)">#<strong>maybe_add_features</strong>(table_type, features, n_features)  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This is a convenience function that for each feature in the feature map array <strong>features</strong> converts the feature name to a Pango::OTTag feature tag using PANGO_OT_TAG_MAKE() and calls pango_ot_ruleset_maybe_add_feature() on it.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new-instance_method" title="#new (instance method)">#<strong>new</strong>(info)  &#x21d2; PangoOT::Ruleset </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates a new Pango::OTRuleset for the given OpenType info.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new_for-instance_method" title="#new_for (instance method)">#<strong>new_for</strong>(info, script, language)  &#x21d2; PangoOT::Ruleset </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates a new Pango::OTRuleset for the given OpenType info, script, and language.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new_from_description-instance_method" title="#new_from_description (instance method)">#<strong>new_from_description</strong>(info, desc)  &#x21d2; PangoOT::Ruleset </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates a new Pango::OTRuleset for the given OpenType infor and matching the given ruleset description.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#position-instance_method" title="#position (instance method)">#<strong>position</strong>(buffer)  &#x21d2; nil </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Performs the OpenType GPOS positioning on <strong>buffer</strong> using the features in <strong>ruleset</strong>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#substitute-instance_method" title="#substitute (instance method)">#<strong>substitute</strong>(buffer)  &#x21d2; nil </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Performs the OpenType GSUB substitution on <strong>buffer</strong> using the features in <strong>ruleset</strong>.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="add_feature-instance_method">
  
    #<strong>add_feature</strong>(table_type, feature_index, property_bit)  &#x21d2; <tt>nil</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Adds a feature to the ruleset.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>table_type</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="TableType.html" title="PangoOT::TableType (module)">PangoOT::TableType</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the table type to add a feature to.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>feature_index</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the index of the feature to add.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>property_bit</span>
      
      
        <span class='type'>(<tt>PangoOT::gulong</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the property bit to use for this feature. Used to identify the glyphs that this feature should be applied to, or %PANGO_OT_ALL_GLYPHS if it should be applied to all glyphs.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_feature_count-instance_method">
  
    #<strong>get_feature_count</strong>(n_gsub_features, n_gpos_features)  &#x21d2; <tt>Integer</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gets the number of GSUB and GPOS features in the ruleset.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>n_gsub_features</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>location to store number of GSUB features, or nil.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>n_gpos_features</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>location to store number of GPOS features, or nil.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Total number of features in the <strong>ruleset</strong>.</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="maybe_add_feature-instance_method">
  
    #<strong>maybe_add_feature</strong>(table_type, feature_tag, property_bit)  &#x21d2; <tt>TrueClass</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This is a convenience function that first tries to find the feature using pango_ot_info_find_feature() and the ruleset script and language passed to pango_ot_ruleset_new_for(), and if the feature is found, adds it to the ruleset.</p>

<p>If <strong>ruleset</strong> was not created using pango_ot_ruleset_new_for(), this function does nothing.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>table_type</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="TableType.html" title="PangoOT::TableType (module)">PangoOT::TableType</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the table type to add a feature to.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>feature_tag</span>
      
      
        <span class='type'>(<tt>PangoOT::Tag</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the tag of the feature to add.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>property_bit</span>
      
      
        <span class='type'>(<tt>PangoOT::gulong</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the property bit to use for this feature. Used to identify the glyphs that this feature should be applied to, or %PANGO_OT_ALL_GLYPHS if it should be applied to all glyphs.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>TrueClass</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if the feature was found and added to ruleset, false otherwise.</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="maybe_add_features-instance_method">
  
    #<strong>maybe_add_features</strong>(table_type, features, n_features)  &#x21d2; <tt>Integer</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This is a convenience function that for each feature in the feature map array <strong>features</strong> converts the feature name to a Pango::OTTag feature tag using PANGO_OT_TAG_MAKE() and calls pango_ot_ruleset_maybe_add_feature() on it.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>table_type</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="TableType.html" title="PangoOT::TableType (module)">PangoOT::TableType</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the table type to add features to.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>features</span>
      
      
        <span class='type'>(<tt>PangoOT::FeatureMap</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>array of feature name and property bits to add.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>n_features</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>number of feature records in <strong>features</strong> array.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The number of features in <strong>features</strong> that were found and added to <strong>ruleset</strong>.</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="new-instance_method">
  
    #<strong>new</strong>(info)  &#x21d2; <tt><span class='object_link'><a href="" title="PangoOT::Ruleset (class)">PangoOT::Ruleset</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates a new Pango::OTRuleset for the given OpenType info.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>info</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Info.html" title="PangoOT::Info (class)">PangoOT::Info</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a Pango::OTInfo.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="PangoOT::Ruleset (class)">PangoOT::Ruleset</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the newly allocated Pango::OTRuleset, which should be freed with g_object_unref().</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="new_for-instance_method">
  
    #<strong>new_for</strong>(info, script, language)  &#x21d2; <tt><span class='object_link'><a href="" title="PangoOT::Ruleset (class)">PangoOT::Ruleset</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates a new Pango::OTRuleset for the given OpenType info, script, and language.</p>

<p>This function is part of a convenience scheme that highly simplifies using a Pango::OTRuleset to represent features for a specific pair of script and language.  So one can use this function passing in the script and language of interest, and later try to add features to the ruleset by just specifying the feature name or tag, without having to deal with finding script, language, or feature indices manually.</p>

<p>In excess to what pango_ot_ruleset_new() does, this function will: &lt;itemizedlist&gt;</p>

<pre class="code ruby"><code class="ruby">&lt;listitem&gt;
Find the Pango::OTTag script and language tags associated with
&lt;b&gt;script&lt;/b&gt; and &lt;b&gt;language&lt;/b&gt; using pango_ot_tag_from_script() and
pango_ot_tag_from_language(),
&lt;/listitem&gt;
&lt;listitem&gt;
For each of table types %PANGO_OT_TABLE_GSUB and %PANGO_OT_TABLE_GPOS,
find the script index of the script tag found and the language
system index of the language tag found in that script system, using
pango_ot_info_find_script() and pango_ot_info_find_language(),
&lt;/listitem&gt;
&lt;listitem&gt;
For found language-systems, if they have required feature
index, add that feature to the ruleset using
pango_ot_ruleset_add_feature(),
&lt;/listitem&gt;
&lt;listitem&gt;
Remember found script and language indices for both table types,
and use them in future pango_ot_ruleset_maybe_add_feature() and
pango_ot_ruleset_maybe_add_features().
&lt;/listitem&gt;
</code></pre>

<p>&lt;/itemizedlist&gt;</p>

<p>Because of the way return values of pango_ot_info_find_script() and pango_ot_info_find_language() are ignored, this function automatically finds and uses the ‘DFLT’ script and the default language-system.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>info</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Info.html" title="PangoOT::Info (class)">PangoOT::Info</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a Pango::OTInfo.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>script</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Pango/Script.html" title="Pango::Script (module)">Pango::Script</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a Pango::Script.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>language</span>
      
      
        <span class='type'>(<tt>Pango::Language</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a Pango::Language.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="PangoOT::Ruleset (class)">PangoOT::Ruleset</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the newly allocated Pango::OTRuleset, which should be freed with g_object_unref().</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="new_from_description-instance_method">
  
    #<strong>new_from_description</strong>(info, desc)  &#x21d2; <tt><span class='object_link'><a href="" title="PangoOT::Ruleset (class)">PangoOT::Ruleset</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates a new Pango::OTRuleset for the given OpenType infor and matching the given ruleset description.</p>

<p>This is a convenience function that calls pango_ot_ruleset_new_for() and adds the static GSUB/GPOS features to the resulting ruleset, followed by adding other features to both GSUB and GPOS.</p>

<p>The static feature map members of <strong>desc</strong> should be alive as long as <strong>info</strong> is.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>info</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Info.html" title="PangoOT::Info (class)">PangoOT::Info</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a Pango::OTInfo.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>desc</span>
      
      
        <span class='type'>(<tt>PangoOT::RulesetDescription</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a Pango::OTRulesetDescription.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="PangoOT::Ruleset (class)">PangoOT::Ruleset</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the newly allocated Pango::OTRuleset, which should be freed with g_object_unref().</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="position-instance_method">
  
    #<strong>position</strong>(buffer)  &#x21d2; <tt>nil</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Performs the OpenType GPOS positioning on <strong>buffer</strong> using the features in <strong>ruleset</strong></p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>buffer</span>
      
      
        <span class='type'>(<tt>PangoOT::Buffer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a Pango::OTBuffer.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="substitute-instance_method">
  
    #<strong>substitute</strong>(buffer)  &#x21d2; <tt>nil</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Performs the OpenType GSUB substitution on <strong>buffer</strong> using the features in <strong>ruleset</strong></p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>buffer</span>
      
      
        <span class='type'>(<tt>PangoOT::Buffer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a Pango::OTBuffer.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sat Apr 16 17:28:47 2022 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.27 (ruby-3.1.2).
</div>

    </div>
  </body>
</html>