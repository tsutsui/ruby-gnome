<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Gio::MemoryOutputStream
  
    &mdash; Documentation by YARD 0.9.27
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Gio::MemoryOutputStream";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (M)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Gio.html" title="Gio (module)">Gio</a></span></span>
     &raquo; 
    <span class="title">MemoryOutputStream</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Gio::MemoryOutputStream
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Gio::MemoryOutputStream</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>(unknown)</dd>
  </dl>
  
</div>








  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#data-instance_method" title="#data (instance method)">#<strong>data</strong>  &#x21d2; GObject </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Pointer to buffer where data will be written.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#data=-instance_method" title="#data= (instance method)">#<strong>data=</strong>(data)  &#x21d2; GObject </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Pointer to buffer where data will be written.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#data_size-instance_method" title="#data_size (instance method)">#<strong>data_size</strong>  &#x21d2; Gio::gulong </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Size of data written to the buffer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#data_size=-instance_method" title="#data_size= (instance method)">#<strong>data_size=</strong>(data_size)  &#x21d2; Gio::gulong </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Size of data written to the buffer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#destroy_function-instance_method" title="#destroy_function (instance method)">#<strong>destroy_function</strong>  &#x21d2; GObject </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Function called with the buffer as argument when the stream is destroyed.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#destroy_function=-instance_method" title="#destroy_function= (instance method)">#<strong>destroy_function=</strong>(destroy_function)  &#x21d2; GObject </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Function called with the buffer as argument when the stream is destroyed.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new-instance_method" title="#new (instance method)">#<strong>new</strong>(data, size, realloc_function, destroy_function)  &#x21d2; Gio::OutputStream </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates a new GMemory::OutputStream.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new_resizable-instance_method" title="#new_resizable (instance method)">#<strong>new_resizable</strong>  &#x21d2; Gio::OutputStream </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates a new GMemory::OutputStream, using g_realloc() and g_free() for memory allocation.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#realloc_function-instance_method" title="#realloc_function (instance method)">#<strong>realloc_function</strong>  &#x21d2; GObject </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Function with realloc semantics called to enlarge the buffer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#realloc_function=-instance_method" title="#realloc_function= (instance method)">#<strong>realloc_function=</strong>(realloc_function)  &#x21d2; GObject </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Function with realloc semantics called to enlarge the buffer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#size-instance_method" title="#size (instance method)">#<strong>size</strong>  &#x21d2; Gio::gulong </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Current size of the data buffer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#size=-instance_method" title="#size= (instance method)">#<strong>size=</strong>(size)  &#x21d2; Gio::gulong </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Current size of the data buffer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#steal_as_bytes-instance_method" title="#steal_as_bytes (instance method)">#<strong>steal_as_bytes</strong>  &#x21d2; GLib::Bytes </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns data from the <strong>ostream</strong> as a #GBytes.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#steal_data-instance_method" title="#steal_data (instance method)">#<strong>steal_data</strong>  &#x21d2; GObject </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gets any loaded data from the <strong>ostream</strong>.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="data-instance_method">
  
    #<strong>data</strong>  &#x21d2; <tt>GObject</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Pointer to buffer where data will be written.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>GObject</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>data</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="data=-instance_method">
  
    #<strong>data=</strong>(data)  &#x21d2; <tt>GObject</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Pointer to buffer where data will be written.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>data</span>
      
      
        <span class='type'>(<tt>GObject</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>GObject</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>data</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>GObject</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>data</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="data_size-instance_method">
  
    #<strong>data_size</strong>  &#x21d2; <tt>Gio::gulong</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Size of data written to the buffer.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Gio::gulong</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>data-size</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="data_size=-instance_method">
  
    #<strong>data_size=</strong>(data_size)  &#x21d2; <tt>Gio::gulong</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Size of data written to the buffer.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>data_size</span>
      
      
        <span class='type'>(<tt>Gio::gulong</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Gio::gulong</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>data-size</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>Gio::gulong</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>data-size</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="destroy_function-instance_method">
  
    #<strong>destroy_function</strong>  &#x21d2; <tt>GObject</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Function called with the buffer as argument when the stream is destroyed.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>GObject</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>destroy-function</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="destroy_function=-instance_method">
  
    #<strong>destroy_function=</strong>(destroy_function)  &#x21d2; <tt>GObject</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Function called with the buffer as argument when the stream is destroyed.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>destroy_function</span>
      
      
        <span class='type'>(<tt>GObject</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>GObject</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>destroy-function</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>GObject</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>destroy-function</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="new-instance_method">
  
    #<strong>new</strong>(data, size, realloc_function, destroy_function)  &#x21d2; <tt><span class='object_link'><a href="OutputStream.html" title="Gio::OutputStream (class)">Gio::OutputStream</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates a new GMemory::OutputStream.</p>

<p>In most cases this is not the function you want.  See g_memory_output_stream_new_resizable() instead.</p>

<p>If <strong>data</strong> is non-nil, the stream will use that for its internal storage.</p>

<p>If <strong>realloc_fn</strong> is non-nil, it will be used for resizing the internal storage when necessary and the stream will be considered resizable. In that case, the stream will start out being (conceptually) empty. <strong>size</strong> is used only as a hint for how big <strong>data</strong> is.  Specifically, seeking to the end of a newly-created stream will seek to zero, not <strong>size</strong>.  Seeking past the end of the stream and then writing will introduce a zero-filled gap.</p>

<p>If <strong>realloc_fn</strong> is nil then the stream is fixed-sized.  Seeking to the end will seek to <strong>size</strong> exactly.  Writing past the end will give an ‘out of space’ error.  Attempting to seek past the end will fail. Unlike the resizable case, seeking to an offset within the stream and writing will preserve the bytes passed in as <strong>data</strong> before that point and will return them as part of g_memory_output_stream_steal_data(). If you intend to seek you should probably therefore ensure that <strong>data</strong> is properly initialised.</p>

<p>It is probably only meaningful to provide <strong>data</strong> and <strong>size</strong> in the case that you want a fixed-sized stream.  Put another way: if <strong>realloc_fn</strong> is non-nil then it makes most sense to give <strong>data</strong> as nil and <strong>size</strong> as 0 (allowing GMemory::OutputStream to do the initial allocation for itself).</p>

<pre class="code ruby"><code class="ruby">// a stream that can grow
stream = g_memory_output_stream_new (NULL, 0, realloc, free);

// another stream that can grow
stream2 = g_memory_output_stream_new (NULL, 0, g_realloc, g_free);

// a fixed-size stream
data = malloc (200);
stream3 = g_memory_output_stream_new (data, 200, NULL, free);
</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>data</span>
      
      
        <span class='type'>(<tt>GObject</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>pointer to a chunk of memory to use, or nil</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>size</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the size of <strong>data</strong></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>realloc_function</span>
      
      
        <span class='type'>(<tt>Gio::ReallocFunc</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a function with realloc() semantics (like g_realloc()) to be called when <strong>data</strong> needs to be grown, or nil</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>destroy_function</span>
      
      
        <span class='type'>(<tt>GLib::DestroyNotify</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a function to be called on <strong>data</strong> when the stream is finalized, or nil</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="OutputStream.html" title="Gio::OutputStream (class)">Gio::OutputStream</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A newly created GMemory::OutputStream object.</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="new_resizable-instance_method">
  
    #<strong>new_resizable</strong>  &#x21d2; <tt><span class='object_link'><a href="OutputStream.html" title="Gio::OutputStream (class)">Gio::OutputStream</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates a new GMemory::OutputStream, using g_realloc() and g_free() for memory allocation.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="OutputStream.html" title="Gio::OutputStream (class)">Gio::OutputStream</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="realloc_function-instance_method">
  
    #<strong>realloc_function</strong>  &#x21d2; <tt>GObject</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Function with realloc semantics called to enlarge the buffer.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>GObject</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>realloc-function</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="realloc_function=-instance_method">
  
    #<strong>realloc_function=</strong>(realloc_function)  &#x21d2; <tt>GObject</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Function with realloc semantics called to enlarge the buffer.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>realloc_function</span>
      
      
        <span class='type'>(<tt>GObject</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>GObject</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>realloc-function</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>GObject</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>realloc-function</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="size-instance_method">
  
    #<strong>size</strong>  &#x21d2; <tt>Gio::gulong</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Current size of the data buffer.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Gio::gulong</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>size</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="size=-instance_method">
  
    #<strong>size=</strong>(size)  &#x21d2; <tt>Gio::gulong</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Current size of the data buffer.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>size</span>
      
      
        <span class='type'>(<tt>Gio::gulong</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Gio::gulong</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>size</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>Gio::gulong</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>size</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="steal_as_bytes-instance_method">
  
    #<strong>steal_as_bytes</strong>  &#x21d2; <tt>GLib::Bytes</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns data from the <strong>ostream</strong> as a #GBytes. <strong>ostream</strong> must be closed before calling this function.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>GLib::Bytes</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the stream’s data</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="steal_data-instance_method">
  
    #<strong>steal_data</strong>  &#x21d2; <tt>GObject</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gets any loaded data from the <strong>ostream</strong>. Ownership of the data is transferred to the caller; when no longer needed it must be freed using the free function set in <strong>ostream</strong>’s GMemory::OutputStream:destroy-function property.</p>

<p><strong>ostream</strong> must be closed before calling this function.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>GObject</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the stream’s data, or nil if it has previously been stolen</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sun May 22 01:00:32 2022 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.27 (ruby-3.1.2).
</div>

    </div>
  </body>
</html>